<!DOCTYPE HTML>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Programme</title><link href="themes/remark-dark.css" rel="stylesheet" media="all" type="text/css"></head><body><textarea id="source">
title: À la découverte d’oXygen
description: Lou Burnard Consulting, 
theme: theme/remark-dark-em.css
name: inverse
layout: true
class: inverse

Dans ce premier exercice, nous allons nous servir d’oXygen pour&nbsp;: 
* la création d’un nouveau document XML

* le balisage progressif d’un document

* la validation continuelle d’un document

* l’affichage du document sans balise


Si vous êtes déjà familiers avec oXygen, vous pouvez directement passer au deuxième exercice (Importation d’un document bureautique).

# Création d’un document nativement-numérique

La TEI ne sert pas uniquement à l’encodage des documents anciens, déjà existants sur papier ou pierre. Elle peut aussi servir à la création de nouveaux documents créés ex nihilo.

* Démarrez oXygen.

* Cliquez sur l’icône Nouveau en haut à gauche (ou sélectionnez `Nouveau` du menu Fichier, ou bien tapez `CTRL+N`) pour ouvrir la boîte de dialogue Nouveau

* Choisissez `Cadre des modèles`, ensuite `TEI P5`, puis `Bare`, pour sélectionner un schéma TEI minimal.



* Cliquez sur le bouton `Créer` en bas. oXygen affiche un document TEI que vous allez compléter.

Le schéma TEI bare contient un minimum de balises, mais il permet quand-même de décrire un document TEI complet. 

On est maintenant dans l’espace de travail typique d’oXygen. Par défaut, il y a plusieurs petites fenêtres, autour d’une grande zone blanche où nous allons éditer notre document. À gauche, par exemple, vous voyez dans la fenêtre `Sommaire` un aperçu de la structure du document.

Notez qu’un document TEI est composé de deux parties. En haut, vous avez les métadonnées, entourées par la balise `&lt;teiHeader&gt;`. En bas se trouve le texte, entouré par la balise `&lt;text&gt;`.



En bas de l’écran, vous voyez qu’il est possible de modifier l’affichage du document en cliquant sur les boutons Texte, Grille, ou Auteur. Nous, on n’a pas peur des balises, donc on va commencer à l’éditer en mode Texte&nbsp;!

D’abord, on va fournir les métadonnées essentielles à tout nouveau document&nbsp;: son titre, sa diffusion, et ses origines. oXygen vous propose des morceaux de texte qu’il faut changer puis compléter… 
* Remplacez le mot « Title » (entre les balises `&lt;title&gt;` et /title) par un titre pour votre document. À vous de choisir&nbsp;! Quelque chose comme À la découverte d’oXygen serait suffisant.

* Remplacez les deux autres morceaux de texte proposés par des mentions plus appropriées. Par exemple, pour publication, on pourrait mettre « Brouillon inédit » ou « Distribué sur mon blog »&nbsp;; pour `&lt;sourceDesc&gt;`, on vous propose « Œuvre originale, guidée par une formation TEI ».


Par défaut, oXygen cherche à maintenir votre document dans un état valide. Qu’arrive-t-il si vous endommagez votre document&nbsp;? 
* Effacez quelques lettres à l’intérieur de n’importe quelle balise&nbsp;: par exemple changez `&lt;publicationStmt&gt;` en `&lt;publicat&gt;`.

* oXygen fait de son mieux&nbsp;:&nbsp;D’abord, il change la balise fermante correspondante (qui devient instantanément `&lt;/publicat&gt;`)&nbsp;: le document reste donc bien formé. Mais il n’est plus valide par rapport au schema TEI bare (qui ne contient aucun balise publicat). Par conséquent, les balises fautives sont soulignées en rouge&nbsp;; il y a un message d’erreur en bas de l’écran&nbsp;; et à droite il y a quelques taches rouges.

* Cliquez sur les taches rouges pour essayer de comprendre la manière dont une erreur peut en entrâiner une autre.

* Cliquez sur `CTRL+z` (ou sélectionnez `Undo` du menu `Edit`) pour revenir dans un état de grâce… vous vous apercevrez que le petit carré rouge en haut à droite reprend une jolie couleur verte après correction de toutes les erreurs.


En effet, oXygen ne vous permettra d’ajouter que des balises prévues dans le schéma actuellement sélectionné pour le document. 
* Mettez le curseur après la balise fermante `&lt;/title&gt;` et avant la balise fermante `&lt;/titleSmt&gt;`;

* tapez `&lt;` et arrêtez un instant ;

* le carré vert repasse au rouge, parce que vous n’avez pas encore entré le nom de l’élément souhaité.

* oXygen vous propose une liste de balises disponibles à cet emplacement dans le document&nbsp;: notamment vous avez le droit d’insérer ici un élément `&lt;author&gt;` ou encore un `&lt;title&gt;`, de terminer le `&lt;titleStmt&gt;`, d’insérer un commentaire XML etc.

* Tapez sur ENTRÉE pour accepter la première proposition. oXygen insère dans votre document les balises `&lt;author&gt;` et `&lt;/author&gt;`.

* Le curseur reste à l’intérieur de la balise ouvrante, au cas où vous désireriez spécifier ses attributs. Faites bouger le curseur d’un caractère vers la droite et tapez votre nom, comme auteur du fichier.


# Ajout de texte au document

Enfin, nous sommes prêts… commencez la création de votre document. À vous de décider de son contenu et de son balisage. 

D’abord, quels composants proposeriez-vous pour votre document&nbsp;? Un document contenant un seul paragraphe n’est guère probable&nbsp;! Avec le schéma bare vous avez le droit de signaler&nbsp;: 
* des titres… à baliser avec la balise `&lt;head&gt;`

* des chapitres… à baliser avec la balise `&lt;div&gt;`

* des listes… à baliser avec la balise `&lt;list&gt;`

* des paragraphes… à baliser avec la balise `&lt;p&gt;`
Allons-y&nbsp;!

Dans le reste de ce petit tutoriel, nous allons vous montrer quelques manipulations utiles offertes par ce logiciel. 

D’abord, une question importante&nbsp;: Pour le contenu, OK, il faut le créer —&nbsp;mais est-ce qu’il faut toujours taper soi-même les balises&nbsp;? Non&nbsp;: oXygen est là pour vous aider. Vous avez déjà vu comment il peut vous proposer la liste des balises disponibles à un certain emplacement du document. Il peut aussi vous suggérer comment baliser un morceau de texte sélectionné.

* Avec la souris, sélectionnez le contenu du `&lt;body&gt;`, i.e. la séquence `&lt;p&gt;Some text here&lt;/p&gt;, y compris les balises.`.

* Tapez `CTRL+e` (ou sélectionnez `XML Refactoring` et ensuite `Entourer des balises` dans le menu `Document`).

* oXygen vous propose toutes les balises qui pourraient éventuellement être insérées à cet endroit précis du document&nbsp;: dans ce cas, il est conseillé de sélectionner `&lt;div&gt;`. Puis, cliquez sur `Accepter`

* L’élément `&lt;div&gt;` va contenir le premier chapitre de votre document. Insérez donc un titre au début de ce `&lt;div&gt;`, en vous servant de la balise `&lt;head&gt;`

* Il serait aussi utile de numéroter vos chapitres d’une manière explicite&nbsp;: pour cela, on vous propose l’attribut `@n` qui est disponible sur n’importe quel élément TEI, y compris `&lt;div&gt;`.

* Mettez le curseur à l’intérieur de la balise `&lt;div&gt;` juste avant le &gt; et tapez un seul espace. oXygen vous propose un menu des attributs disponibles.

* Tapez sur ENTRÉE pour sélectionnez `@n`. oXygen vous informe qu’il faut dans ce cas ajouter une valeur, et le curseur reste entre les guillemets.

* Tapez (par exemple) `1`, et votre document redeviendra valide.

À vous d’ajouter maintenant du texte à ce paragraphe&nbsp;: un peu plus intéressant que « some text here » de préférence&nbsp;! Décrivez-nous vos premières réactions avec oXygen&nbsp;; partagez vos idées sur la situation politique actuelle&nbsp;; écrivez ce que vous voulez.

Sans doute aurez-vous besoin de plus d’un seul paragraphe. Comment faire pour terminer celui-ci et commencer un nouveau&nbsp;? Bien-sûr, on peut simplement taper les balises `&lt;/p&gt;&lt;p&gt;` mais il y a une plus simple manière de faire.

Supposons que vous avez maintenant quelques centaines de mots dans votre seul paragraphe, et que vous voulez le diviser en plusieurs.

* Mettez le curseur au point de chaque division souhaitée 

* Tapez `ALT + MAJ + D` ou sélectionnez `XML Refactoring` et ensuite `Élément de division` dans le menu `Document`.

Vous pouvez faire pareil pour diviser le chapitre unique, mais attention à choisir un endroit valide pour effectuer la division&nbsp;: entre deux éléments `&lt;p&gt;`, et non pas dans l’enceinte d’un `&lt;p&gt;`.

Dans un de vos chapitres, n’omettez pas d’ajouter une liste, balisée avec un élément `&lt;list&gt;`, contenant une séquence de `&lt;item&gt;` éléments, précédée d’un `&lt;head&gt;` facultatif.

# L’affichage du texte balisé

Est-ce que la quantité de balises dans votre document commence à vous inquiéter un peu&nbsp;? 

On peut mettre en ordre le balisage que l’on a fait, en cliquant sur le bouton d’indentation, ou en tapant `CTRL+MAJ+p`, ou en sélectionnant Source-&gt;Indenter le document sur le menu Document. Mais peut être préféreriez-vous voir disparaître les balises&nbsp;?

* Au fond de la fenêtre vous voyez trois onglets&nbsp;: `Texte`, `Grille`, et `Auteur`. Sélectionnez le dernier. L’affichage de votre document change, et un nouveau menu `TEI P5` devient disponible. Sur ce menu, sélectionnez `Mode d’affichage` des balises et regardez les possibilités offertes par ces options.

* L’option `Toutes les balises` affiche les balises en icônes&nbsp;; l’option `Aucune balise` les fait disparaître totalement.

* Notez en plus que votre document est maintenant stylé&nbsp;; il y a des changements de police&nbsp;; les retours de ligne sont traités comme des blancs&nbsp;; etc. 

* Dans le mode auteur, on peut diviser un élément simplement en tapant ENTRÉE deux fois. Vous pouvez essayez.

Plus tard, nous verrons comment vous pourrez contrôler l’affichage de votre document avec une feuille de style.

# Importation d’un document bureautique

La plupart des documents numériques que vous rencontrerez dans le monde actuel paraissent indemnes de toute balise XML. Par exemple, les documents préparés à l’aide des outils bureautiques tels Microsoft Word ou Open Office se présentent en apparence comme du texte brut.

En réalité, ce n’est qu’une apparence&nbsp;: derrière tout cela il existe un format XML, que l’on peut manipuler, et donc qu’on peut transformer dans un format XML TEI. 

Dans votre dossier `exercices` vous trouverez un fichier nommé`acteRoyal-s.docx` et un autre `acteRoyal.jpg`&nbsp;: Prenez-en connaissance.

Il s’agit d’un document numérisé en mode image qui a ensuite été rapidement retranscrit avec Microsoft Word. On va se servir d’oXygen pour transformer cette transcription en un document XML-TEI.

Un fichier Microsoft Word au format docx est une archive compressée qui contient plusieurs autres fichiers, y compris des fichiers XML qu’on peut gérer et transformer avec oXygen comme n’importe quel autre fichier XML. La conversion prend en compte les styles du document existants dans le fichier, et donc peut être personnalisée.

* Ouvrir oXygen. Sélectionnez Ouvrir dans le menu Fichier (ou tapez `CTRL-O`, ou bien cliquez sur l’icône en forme de dossier) et sélectionnez le fichier `acteRoyal-s.docx` qui se trouve dans le répertoire `exercices/`.

* Une fenêtre intitulée `Navigateur d’Archives` s’ouvre à gauche de l’écran principal. La structure de l’archive docx y est affichée.



* Cliquez sur la petite clef bleue à côté du dossier `word` pour voir ce qu’il contient



* Sélectionnez le fichier `document.xml` et double-cliquez pour l’ouvrir (cela peut prendre un peu de temps si le fichier est volumineux)

* Voilà&nbsp;: c’est un document XML, plein de balises, pour la plupart appartenant à un espace de nom défini par Microsoft. Convertissons-le&nbsp;!

* Avec ce fichier `document.xml` ouvert dans l’écran principal, sélectionnez `Transformation -&gt; Configurer les Scénario(s) de Transformation` du menu `Document`. Ou tapez `CTRL-MAJ-c`. Ou cliquez sur la petite icône en forme de clef à molette (celui-ci : )

* oXygen vous présente les options de transformation disponibles pour ce document, parmi lesquelles devrait figurer une transformation nommée DOCX TEI P5. 



* Sélectionnez la case à cocher correspondante et cliquez sur le bouton `Appliquer associés` au dessous. Une nouvelle fenêtre s’ouvre en bas pour l’affichage des messages concernant le processus de transformation&nbsp;: vous pouvez les ignorer sans problème.

* Dans l’écran principal, un document TEI-conforme s’affiche. Sélectionnez `Source -&gt; Formater et indenter` du menu `Document` menu, ou tapez `CTRL-MAJ-p` ou cliquez sur le bouton `Indent` (celui-ci : ) pour regarder sa structure

* L’attribut `@rend` indique le nom du style Word utilisé dans cette portion du document original. Une transformation XSLT plus complexe pourrait donc s’en servir pour effectuer une conversion plus intelligente.

La question qui s’impose&nbsp;: quelles balises devraient être disponibles pour une représentation efficace des aspects les plus signifiants du document&nbsp;?
</textarea><script src="js/remark-0.6.5.min.js" type="text/javascript"></script><script type="text/javascript">
        var hljs = remark.highlighter.engine;
      </script><script src="remark.language.js" type="text/javascript"></script><script type="text/javascript">
        var slideshow = remark.create({
        highlightStyle: 'monokai',
        highlightLanguage: 'remark'
        }) ;
      </script></body></html>